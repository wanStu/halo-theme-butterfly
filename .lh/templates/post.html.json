{
    "sourceFile": "templates/post.html",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1679846752804,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1679846752804,
            "name": "Commit-0",
            "content": "<!DOCTYPE html>\n<html\n  xmlns:th=\"https://www.thymeleaf.org\"\n  th:replace=\"~{modules/layout :: layout (\n  page = 'post',\n  title = ${post.spec.title},\n  head = ~{::head},\n  above = ~{::above},\n  content = ~{::content},\n  js = ~{::js}\n  )}\">\n>\n<th:block th:fragment=\"head\">\n  <style\n    th:inline=\"css\"\n    th:with=\"above_background= ${is_body_bg_http ? '' : 'url(' + (#strings.isEmpty(post.spec.cover) ? (random_img + #strings.toString(#dates.createNow().time)) + '_index_') : post.spec.cover) + ')'} \n  \">\n    .above {\n      --above-background: /*[(${above_background})]*/ transparent;\n    }\n  </style>\n  <th:block th:if=\"${theme.config.code.enable}\">\n    <link rel=\"preload\" as=\"style\" onload=\"this.rel='stylesheet'\"\n          th:href=\"${assets_link+'/plugins/prism/prism.min.css'}\">\n    <link rel=\"preload\" as=\"style\" onload=\"this.rel='stylesheet'\"\n          data-code-theme=\"light\"\n          th:href=\"${assets_link+ '/plugins/prism/themes/prism-'+theme.config.code.theme_light+'.css'}\">\n    <link rel=\"preload\" as=\"style\" onload=\"this.rel='stylesheet'\"\n          data-code-theme=\"dark\"\n          th:href=\"${assets_link+'/plugins/prism/themes/prism-'+theme.config.code.theme_dark+'.css'}\">\n    <script type=\"text/javascript\" th:src=\"${assets_link+'/plugins/prism/prism.min.js'}\"></script>\n  </th:block>\n  <link rel=\"stylesheet\" as=\"style\" th:href=\"${assets_link+'/plugins/fancybox/fancybox.min.css'}\">\n  <link rel=\"stylesheet\" as=\"style\" th:href=\"${assets_link+'/css/post.min.css' + theme_version}\">\n\n  <script id=\"post-script\" th:inline=\"javascript\">\n    window.PageConfig = {\n      code:/*[[${theme.config.code}]]*/ {},\n      post:/*[[${theme.config.post}]]*/ {},\n    };\n    document.getElementById('post-script').remove();\n  </script>\n</th:block>\n\n<section th:fragment=\"above\" class=\"above relative w-100\">\n  <div class=\"post-info absolute w-100 text-center\">\n    <h1 class=\"post-title font-weight-400 text-clamp text-cmp3\" th:text=\"${post.spec.title}\"></h1>\n    <div class=\"post-meta\">\n      <div class=\"line\">\n        <span class=\"wp publishTime\">\n            <i class=\"fa-solid fa-calendar-days\"></i>\n            <time th:text=\"'发布于 '+${#dates.format(post.spec.publishTime, 'yyyy-MM-dd')}\"></time>\n        </span>\n\n        <!--/* todo  需要添加更新时间-->\n        <span class=\"wp publishTime\">\n            <span class=\"fk\">|</span>\n            <i class=\"fas fa-history fa-fw\"></i>\n            <time th:text=\"'更新于 '+${#dates.format(post.spec.publishTime, 'yyyy-MM-dd')}\"></time>\n        </span>\n        <!--*/-->\n\n        <span class=\"wp category\">\n            <span class=\"fk\">|</span>\n            <i class=\"fas fa-inbox\"></i>\n            <span class=\"cys\">\n              <th:block th:each=\"cy : ${post.categories}\">\n                <a class=\"lk\" th:href=\"${cy.status.permalink}\" th:text=\"${cy.spec.displayName}\"></a>\n               <span class=\"point\">•</span>\n              </th:block>\n            </span>\n          </span>\n\n      </div>\n      <div class=\"line\" th:with=\"leg = ${#strings.length(#strings.trim(post.content.content))}\">\n        <span class=\"wordCount\">\n          <i class=\"fa-solid fa-list-ol\"></i>\n          <span th:text=\"'字数总计 '+${leg}\"></span>\n        </span>\n\n        <span class=\"fk\">|</span>\n\n        <span class=\"clock\">\n           <i class=\"fa-regular fa-clock\"></i>\n          <span th:text=\"'阅读时长 '+${leg/400}+'分钟'\"></span>\n        </span>\n\n        <span class=\"fk\">|</span>\n\n        <span class=\"visit\">\n          <i class=\"far fa-eye fa-fw\"></i>\n          <span th:text=\"'阅读量 '+${post.stats.visit}\"></span>\n        </span>\n      </div>\n    </div>\n  </div>\n</section>\n\n<th:block th:fragment=\"content\">\n  <section class=\"container card \">\n    <!--/* todo  publishTime 此时间需要改为更新时间--><!--*/-->\n    <div class=\"post-outDate relative none animated fadeIn\"\n         th:data-outDate=\"${theme.config.post.out_date}\"\n         th:data-publishTime=\"${#dates.format(post.spec.publishTime,'yyyy-MM-dd')}\">\n    </div>\n\n    <article th:utext=\"${post.content.content}\"\n             th:class=\"'render-html  single_code_select' + ${ theme.config.code.enable_line ? ' line-numbers' : ''} + ${ !theme.config.post.enable_h_title ? ' enable_h_title' : ''} \"></article>\n\n    <div class=\"post-copyRight relative\">\n      <i class=\"fa-solid fa-copyright absolute\"></i>\n\n      <div class=\"author\">\n        <span class=\"name\">文章作者：</span>\n        <span class=\"text\"\n              th:text=\"${post.owner.displayName}\"></span>\n      </div>\n\n      <div class=\"url\">\n        <span class=\"name\">本文链接：</span>\n        <span class=\"text\">\n              <a class=\"permalink\" href=\"/\" th:href=\"${post.status.permalink}\" target=\"_blank\"\n                 th:text=\"${post.status.permalink}\"></a>\n            </span>\n      </div>\n\n      <div class=\"declaration\">\n        <span class=\"name\">版权声明：</span>\n        <span class=\"text\">本站所有文章除特别声明外，均采用 <a\n          class=\"link\"\n          href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\"\n          target=\"_blank\">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 \n              <a class=\"link\" href=\"/\" target=\"_blank\" th:text=\"${site.title}\"></a>！</span>\n      </div>\n\n\n    </div>\n\n    <div class=\"post-abstract\">\n      <span class=\"categories\">\n            <a th:each=\" cts : ${post.categories}\"\n               class=\"link inline-block text-center\"\n               th:href=\"${cts.status.permalink}\"\n            >\n              <i class=\"fa-regular fa-folders\"></i>\n              <span th:text=\"${cts.spec.displayName}\" class=\"name\"></span>\n            </a>\n          </span>\n      <span class=\"tags\">\n            <a th:each=\" tag : ${post.tags}\"\n               class=\"link inline-block text-center\"\n               th:href=\"${tag.status.permalink}\"\n               th:style=\"'--spec-color: ' + ${tag.spec.color}\"\n            >\n              <i class=\"fa-regular fa-tags\"></i>\n              <span th:text=\"${tag.spec.displayName}\" class=\"name\"></span>\n            </a>\n          </span>\n    </div>\n\n    <div class=\"post-support\">\n      <div class=\"title text-center\">喜欢就支持一下吧</div>\n\n      <div class=\"content flex flex-justify-content-center\">\n        <!--/* todo 待开发-->\n        <a\n          class=\"praise item cursor-pointer inline-flex flex-direction-column flex-justify-content-center  flex-align-items-center\"\n          href=\"\">\n          <i class=\"fa-light fa-thumbs-up\"></i>\n          <span th:text=\"'点赞 '+${post.stats.upvote}\"></span>\n        </a>\n        <!--*/-->\n\n        <div\n          class=\"share relative item cursor-pointer inline-flex flex-direction-column flex-justify-content-center  flex-align-items-center\">\n          <i class=\"fa-light fa-arrow-up-right-from-square\"></i>\n          <span>分享</span>\n          <ul class=\"share-dropdown absolute z-50\">\n            <li class=\"dropdown-item\">\n              <a\n                th:href=\"'https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url='+${post.status.permalink}+'&title='+${post.spec.title}+'&pics='+${post.spec.cover}+'&summary='+${post.spec.excerpt.raw}\">\n              <span class=\"icon inline-flex flex-justify-content-center flex-align-items-center\">\n                <i class=\"fa-regular fa-atom-simple\"></i>\n              </span>\n                <span class=\"name\">QQ空间</span>\n              </a>\n            </li>\n\n            <li class=\"dropdown-item\">\n              <a\n                th:href=\"'https://connect.qq.com/widget/shareqq/index.html?url='+${post.status.permalink}+'&title='+${post.spec.title}+'&pics='+${post.spec.cover}+'&desc='+${post.spec.excerpt.raw}\">\n              <span class=\"icon inline-flex flex-justify-content-center flex-align-items-center\">\n                 <i class=\"fa-brands fa-qq\"></i>\n              </span>\n                <span class=\"name\">QQ好友</span>\n              </a>\n            </li>\n\n            <!--/* todo 待开发-->\n            <li class=\"dropdown-item\">\n              <span class=\"icon inline-flex flex-justify-content-center flex-align-items-center\">\n                 <i class=\"fa-regular fa-image\"></i>\n              </span>\n              <span class=\"name\">海报分享</span>\n            </li>\n            <!--*/-->\n\n            <li class=\"dropdown-item copy-permalink\">\n              <span class=\"icon inline-flex flex-justify-content-center flex-align-items-center\">\n               <i class=\"fa-regular fa-link\"></i>\n              </span>\n              <span class=\"name\">复制链接</span>\n            </li>\n          </ul>\n        </div>\n\n        <div\n          th:if=\"${theme.config.post.enable_reward && (not #strings.isEmpty(theme.config.post.wxPay) || not #strings.isEmpty(theme.config.post.alipay))}\"\n          class=\"reward relative item cursor-pointer inline-flex flex-direction-column flex-justify-content-center  flex-align-items-center\">\n          <i class=\"fa-light fa-sack-dollar\"></i>\n          <span>打赏</span>\n\n          <div class=\"reward-dropdown absolute z-50 flex\">\n            <section class=\"text-center\" th:if=\"${not #strings.isEmpty(theme.config.post.wxPay)}\">\n              <img\n                th:src=\"${theme.config.loading.preload}\"\n                th:attr=\"onerror='this.src='+${'`'+theme.config.loading.err+'`'}\"\n                th:data-lazy-src=\"${theme.config.post.wxPay}\"\n                alt=\"微信\" src=\"\">\n              <span class=\"inline-block\">微信</span>\n            </section>\n            <section class=\"text-center\" th:if=\"${not #strings.isEmpty(theme.config.post.alipay)}\">\n              <img\n                th:src=\"${theme.config.loading.preload}\"\n                th:attr=\"onerror='this.src='+${'`'+theme.config.loading.err+'`'}\"\n                th:data-lazy-src=\"${theme.config.post.alipay}\"\n                alt=\"支付宝\" src=\"\">\n              <span class=\"inline-block\">支付宝</span>\n            </section>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"post-comment\" th:if=\"${pluginFinder.available('PluginCommentWidget')}\">\n      <halo:comment colorScheme=\"window.dataTheme\" group=\"content.halo.run\" kind=\"Post\"\n                    th:attr=\"name=${post.metadata.name}\"/>\n    </div>\n  </section>\n  <aside class=\"aside w-25\">\n    <div class=\"sticky post-sticky\">\n      <section class=\"aside-item card post-tocbot\">\n        <h1 class=\"aside-title\">\n          <i class=\"fas fa-stream\"></i>\n          <span class=\"name\">目录</span>\n        </h1>\n        <div class=\"toc\"></div>\n      </section>\n\n      <th:block th:insert=\"~{modules/public:: newsPost}\"></th:block>\n    </div>\n  </aside>\n</th:block>\n\n<th:block th:fragment=\"js\">\n  <script type=\"text/javascript\" th:src=\"${assets_link+'/plugins/fancybox/fancybox.min.js'}\"></script>\n  <script type=\"text/javascript\" th:src=\"${assets_link+'/plugins/clipboard/clipboard.min.js'}\"></script>\n  <script type=\"text/javascript\" th:src=\"${assets_link+'/plugins/tocbot/tocbot.min.js'}\"></script>\n  <script type=\"text/javascript\" th:src=\"${assets_link+'/js/post.min.js' + theme_version}\"></script>\n</th:block>\n\n</html>"
        }
    ]
}